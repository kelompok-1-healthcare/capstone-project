<?php
$listArtikel = [
    [
        'judul' => 'Badan Sakit saat Bangun Tidur?',
        'deskripsi' => 'Pernahkah Anda mengalami badan sakit saat bangun tidur di pagi hari? Biasanya, hal ini terjadi jika Anda melakukan aktivitas berat...',
        'link' => 'https://wolipop.detik.com/health-and-diet/d-6448891/3-cara-agar-cepat-tidur-dengan-metode-ilmiah-2-menit-langsung-pules',
        'gambar' => 'https://akcdn.detik.net.id/community/media/visual/2022/07/20/ilustrasi-wanita-tidur_169.jpeg?w=700&q=90',
    ],
    [
        'judul' => 'Apa itu Microsleep?',
        'deskripsi' => 'Pernahkah kamu tidak sadar sudah tertidur selama beberapa detik? Jika ya, kamu mungkin telah mengalami microsleep sebuah fenomena yang menjadi salah satu penyebab kecelakaan...',
        'link' => 'https://www.detik.com/jateng/berita/d-7356049/apa-itu-microsleep-ini-pengertian-penyebab-gejala-hingga-penanganannya',
        'gambar' => 'https://akcdn.detik.net.id/community/media/visual/2022/01/29/ilustrasi-sakit-kepala-atau-pusing-saat-bangun-tidur_169.jpeg?w=700&q=90',
    ],
    [
        'judul' => 'Kenali Tanda Gangguan Tidur',
        'deskripsi' => 'Dr. Andreas Prasadja, RPSGT, menyebut ada 3 gejala dalam gangguan tidur, yaitu insomnia, parasomnia, dan hipersomnia. Apa bedanya ketiga gejala tersebut?',
        'link' => 'https://20.detik.com/detikupdate/20240223-240223091/3-tanda-kamu-mengalami-gangguan-tidur',
        'gambar' => 'assets/gambar-3.svg',
    ],
    [
        'judul' => 'Kenapa Sering Mengantuk?',
        'deskripsi' => 'Kenapa sering ngantuk? Jika pertanyaan ini muncul, mungkin sudah saatnya kamu mengevaluasi gaya hidup sehari-hari karena penyebabnya beragam mulai dari lifestyle yang...',
        'link' => 'https://health.detik.com/berita-detikhealth/d-7335957/kenapa-sering-mengantuk-ini-11-penyebabnya-nggak-cuma-lelah',
        'gambar' => 'https://akcdn.detik.net.id/community/media/visual/2019/05/31/e367d77a-3b0f-4931-9674-a4c8d16abcd9_169.jpeg?w=700&q=90',
    ],
    [
        'judul' => 'Kenali Gejala Sleep Apnea',
        'deskripsi' => 'Sleep apnea atau apnea tidur adalah gangguan yang menyebabkan pernapasan berhenti sementara
        saat sedang tidur. Pengidap sleep apnea bisa mengalami henti napas selama...',
        'link' => 'https://health.detik.com/penyakit/sleep-apnea-d-7122517',
        'gambar' => 'assets/gambar-5.svg',
    ],
    [
        'judul' => '5 Cara Sudahi Insomnia',
        'deskripsi' => 'Insomnia adalah salah satu gangguan kesulitan tidur. Sebanyak 30 persen orang dewasa di dunia mengalami gangguan tidur. Siapa sangkainsomnia bisa meningkatkan risiko pen...',
        'link' => 'https://www.detik.com/jatim/berita/d-6963433/5-cara-sudahi-insomnia-agar-tak-berisiko-sakit-jantung',
        'gambar' => 'https://akcdn.detik.net.id/community/media/visual/2015/06/18/fab7bb66-5674-42a4-9f56-e10dbecbdf1d_169.jpg?w=700&q=90',
    ],
    [
        'judul' => 'Fakta Sleep Paralysis',
        'deskripsi' => 'Sleep paralysis atau dikenal masyarakat dengan istilah ketindihan merupakan kondisi yang terjadi saat seseorang sedang tidur. Kondisi ini kerap kali dikaitkan dengan hal mistis, seperti...',
        'link' => 'https://health.detik.com/berita-detikhealth/d-6046297/fakta-fakta-sleep-paralysis-yang-sering-disebut-ketindihan',
        'gambar' => 'https://akcdn.detik.net.id/community/media/visual/2022/03/17/hari-tidur-sedunia-2022-ini-serba-serbi-peringatannya_169.jpeg?w=700&q=90',
    ],
    [
        'judul' => 'Dampak Masalah Tidur',
        'deskripsi' => 'Tidur merupakan salah satu kebutuhan manusia untuk mengistirahatkan tubuh dan pikiran dari aktivitas sehari-hari. Sebagian orang bisa tidur dengan nyenyak dan cukup, tapi sebagian lagi...',
        'link' => 'https://www.liputan6.com/lifestyle/read/5532514/catat-masalah-tidur-bisa-picu-gangguan-kesehatan-mental',
        'gambar' => 'assets/gambar-1.svg',
    ],
    [
        'judul' => 'Dampak Buruk Screen Time',
        'deskripsi' => 'Screen time menunjukkan seberapa lama kamu berada di depan layar handphone maupun monitor komputer saat beraktivitas sehari-hari. Kamu perlu waspada jika screen time berlebi...',
        'link' => 'https://health.detik.com/berita-detikhealth/d-5022848/screen-time-berlebih-picu-gangguan-tidur-ini-cara-mengatasinya',
        'gambar' => 'https://akcdn.detik.net.id/community/media/visual/2019/07/11/c1951e5e-88c8-4f48-ab5e-1fabba8ca634_169.jpeg?w=700&q=90',
    ],
    [
        'judul' => 'Sindrom Sleeping Beauty',
        'deskripsi' => 'Dalam dunia medis, tidur dalam jangka waktu lama adalah ciri Kleine-Levin Syndrome (KLS) atau dikenal dengan sleeping beautysyndrome. Dikutip dari situs Kleine-Levin Syndrome Found...',
        'link' => 'https://health.detik.com/berita-detikhealth/d-5101246/sempat-viral-sleeping-beauty-syndrome-apakah-gangguan-ini-bisa-sembuh',
        'gambar' => 'https://akcdn.detik.net.id/community/media/visual/2019/10/10/27e0b232-4c35-4518-8a86-492bcf45c9f3_169.jpeg?w=700&q=90',
    ],
    [
        'judul' => 'Tidur Lampu Menyala vs Mati',
        'deskripsi' => 'Ada beberapa orang yang lebih nyaman tidur dengan kondisi lampu menyala dan ada juga yang nyaman dengan mematikan lampu. Namun sebenarnya mana yang lebih sehat ya?',
        'link' => 'https://health.detik.com/berita-detikhealth/d-4519129/lebih-sehat-tidur-dengan-lampu-menyala-atau-mati-ini-jawabannya',
        'gambar' => 'https://akcdn.detik.net.id/community/media/visual/2018/08/01/87dd4725-3160-49c5-a2e1-6154678f2201_169.jpeg?w=700&q=90',
    ],
    [
        'judul' => 'Bahaya Menonton Drakor',
        'deskripsi' => 'Drama korea atau drakor sering kali menampilkan alur cerita yang memikat, menarik minat banyak penonton untuk menyaksikannya dalam waktu yang lama, atau yang dikenal seb...',
        'link' => 'https://gaya.tempo.co/read/1870939/bahaya-di-balik-menonton-drama-korea-secara-maraton',
        'gambar' => 'https://statik.tempo.co/data/2023/11/16/id_1255062/1255062_720.jpg',
    ],
    [
        'judul' => 'Pencahayaan Selama Tidur',
        'deskripsi' => 'Selama ribuan tahun, kegelapan malam hari secara alami memberitahu manusia bahwa sudah waktunya untuk tidur. Itu adalah prinsip evolusi yang tertanam dalam otak manusia...',
        'link' => 'https://www.liputan6.com/on-off/read/5573523/ternyata-pencahayaan-barang-di-rumah-bisa-mengganggu-tidur',
        'gambar' => 'assets/gambar-2.svg',
    ],
    [
        'judul' => 'Manfaat Selimut Tebal',
        'deskripsi' => 'Pada umumnya, diperkirakan bahwa penggunaan selimut yang tebal dapat meningkatkan kualitas tidur, mengurangi tingkat kecemasan, serta meningkatkan kesejahteraan...',
        'link' => 'https://www.liputan6.com/citizen6/read/5569349/tidur-dengan-selimut-tebal-ternyata-dapat-atasi-gangguan-tidur-kecemasan-hingga-stres?page=3',
        'gambar' => 'assets/gambar-4.svg',
    ],
    [
        'judul' => 'Kurangi Minum Sebelum Tidur',
        'deskripsi' => 'Sangat penting bagi seseorang untuk minum air setiap hari dan memperhatikan berapa banyak asupan air pada waktu tertentu seperti ketika ingin tidur. Spesialis gangguan tidur Jessica...',
        'link' => 'https://www.liputan6.com/health/read/5559569/kurangi-minun-air-sebelum-tidur-bantu-cegah-beser-di-malam-hari?page=2',
        'gambar' => 'https://cdn0-production-images-kly.akamaized.net/5iA1iAv2gscWuVj-OkNA0KuQu5c=/640x360/smart/filters:quality(75):strip_icc():format(webp)/kly-media-production/medias/4233961/original/034943600_1669027243-breakfast-cute-girl-table.jpg',
    ],
    [
        'judul' => 'Tren Selotip Mulut',
        'deskripsi' => 'Penderita bau mulut sering kali mendapat reputasi yang buruk. Dalam upaya untuk meningkatkan kualitas tidur dan kesehatan secara keseluruhan, orang sering kali mencoba...',
        'link' => 'https://www.liputan6.com/on-off/read/5543878/mengenal-tren-selotip-mulut-demi-kesehatan-tidur-lebih-baik',
        'gambar' => 'assets/gambar-7.svg',
    ],
    [
        'judul' => 'Kebiasaan Berbicara Saat Tidur',
        'deskripsi' => 'Pernahkah kamu bertemu dengan orang yang sering berbicara ketika tidur? Sleep talking merupakan fenomena yang relatif umum terjadi pada anak-anak. Namun, hanya sekitar 5% or...',
        'link' => 'https://www.liputan6.com/citizen6/read/5453979/waspadai-kebiasaan-berbicara-saat-tidur-kenali-tanda-tanda-dan-cara-mengatasinya',
        'gambar' => 'assets/gambar-8.svg',
    ],
    [
        'judul' => 'Akibat Kurang Tidur',
        'deskripsi' => 'Tapi tahukah Anda apa yang terjadi pada tubuhmu jika Anda tidak mendapatkan 7 jam tidur yang berharga itu? Ini lebih dari sekedar pusing,  tapi ini tentang kesehatan dan kesejah...',
        'link' => 'https://www.liputan6.com/citizen6/read/5452091/5-masalah-yang-muncul-pada-tubuh-jika-tidur-kurang-dari-7-jam-sehari',
        'gambar' => 'assets/gambar-9.svg',
    ],
];

$page = $_GET['page'] ?? 1;
$perPage = 6;
$offset = ($page - 1) * $perPage;
$limit = $offset + $perPage;
$artikel = array_slice($listArtikel, $offset, $perPage);
?>

<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    @vite(['resources/css/app.css', 'resources/js/app.js'])
</head>

<body>
    {{-- navbar --}}
    @include('generalNavbar')

    {{-- artikel --}}
    <section class="items-center justify-center min-h-screen mt-40">
        <div class="container mx-auto max-w-screen-xl p-4">

            {{-- search --}}
            <form class="max-w-xl mx-auto flex items-center">
                <input type="search" id="default-search"
                    class="block w-full py-2 px-4 text-sm text-gray-900 placeholder-gray-500 border bg-gray-200 border-primary rounded-l-lg focus:outline-none focus:ring-primary focus:border-primary transition-colors duration-300"
                    placeholder="Cari Artikel" required />
                <button type="submit"
                    class="bg-primary text-white py-2 px-4 rounded-r-lg hover:bg-gray-500 focus:outline-none focus:ring-4 transition-colors duration-300">Cari</button>
            </form>

            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 grid-rows-2 gap-4 mt-20 mx-auto">
                <?php
                    foreach ($artikel as $artikel) {
                ?>
                <div
                    class="max-w-sm bg-secondary border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700">
                    <img class="w-full h-64 rounded-t-lg object-cover" src={{ asset($artikel['gambar']) }}
                        alt="" draggable="false" />
                    <div class="p-5">
                        <h5 class="mb-2 text-2xl font-bold tracking-tight text-bold">
                            <?php echo $artikel['judul']; ?>
                        </h5>
                        <p class="mb-3 font-normal text-gray-700 dark:text-gray-400">
                            <?php echo $artikel['deskripsi']; ?>
                        </p>
                        <a href="<?php echo $artikel['link']; ?>" class="text-blue-600 hover:underline hover:text-blue-800">
                            Baca selengkapnya
                        </a>
                    </div>
                </div>
                <?php
                    } 
                ?>
            </div>
        </div>
    </section>
    <nav class="flex justify-center mt-10 mb-10">
        <ul class="flex items-center -space-x-px h-8 text-sm">
            {{-- <li>
                <a href="/artikel?page=<?php echo $page + 1; ?>"
                    class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</a>
            </li>
            <li>
                <a href="/artikel?page=<?php echo $page + 2; ?>"
                    class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2
                    </>
            </li>
            <li>
                <a href="/artikel?page=<?php echo $page + 3; ?>"
                    class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</b>
            </li>
            <li>
                <a href="/artikel?page=<?php echo $page + 4; ?>"
                    class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-e-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">
                    <span class="sr-only">Next</span>
                    <svg class="w-2.5 h-2.5 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                        fill="none" viewBox="0 0 6 10">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="m1 9 4-4-4-4" />
                    </svg>
                    </>
            </li> --}}

            {{-- +1 setiap page. jika page saat ini 1, maka page selanjutnya 2 dan tidak bisa klik ke page 1 lagi --}}
            <?php
                for ($i = 1; $i <= count($listArtikel) / $perPage; $i++) { 
            ?>
            <li>
                <a href="/artikel?page=<?php echo $i; ?>"
                    class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"><?php echo $i; ?></a>
            </li>
            <?php
                }
            ?>
        </ul>
    </nav>

    {{-- pagination --}}
    {{-- kalo pencet next page, page nya nambah 1 --}}



    {{-- footer --}}
    @include('generalFooter')




    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        window.addEventListener('scroll', function() {
            var navbar = document.querySelector('#navbar');
            if (window.scrollY > 50) {
                navbar.classList.remove('bg-transparent');
                navbar.classList.add('bg-white');
                navbar.classList.add('shadow-md');
            } else {
                navbar.classList.remove('bg-white');
                navbar.classList.remove('shadow-md');
                navbar.classList.add('bg-transparent');
            }
        });
    </script>

</body>

</html>
